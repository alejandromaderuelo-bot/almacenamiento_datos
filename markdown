# docs/diccionario.md
# üìñ Diccionario de Datos

Este documento describe el significado, formato y reglas de cada campo incluido en el dataset.

- **Campo**: Nombre de la columna
- **Tipo de dato**: string, int, float, date...
- **Descripci√≥n**: qu√© representa
- **Reglas de validaci√≥n**: valores permitidos, rangos, restricciones
# docs/gobernanza.md
# üõ°Ô∏è Gobernanza de Datos

Pol√≠ticas aplicadas en este laboratorio:

- Separaci√≥n de capas (raw, bronze, silver, gold).
- Trazabilidad de or√≠genes ‚Üí KPI.
- Restricciones sobre qu√© datos pueden ser incluidos (solo p√∫blicos/sint√©ticos).
- Versionado de c√≥digo y documentaci√≥n en GitHub.
# tests/checklist.md
# ‚úÖ Checklist de validaci√≥n

- [ ] ¬øLos CSV han sido cargados en `/data/raw`?
- [ ] ¬øSe ejecutaron validaciones de tipos, nulos y duplicados?
- [ ] ¬øSe generaron datasets en `/data/bronze` y `/data/silver`?
- [ ] ¬øLos KPIs reflejan datos trazables desde las fuentes?
- [ ] ¬øLa documentaci√≥n (`docs/`) est√° actualizada?
- [ ] # üìñ Diccionario de Datos

Este diccionario describe el **esquema can√≥nico** utilizado en el laboratorio para normalizar datos heterog√©neos.

## Esquema Can√≥nico

| Campo    | Tipo de dato | Formato / Unidad | Descripci√≥n                                 |
|----------|--------------|------------------|---------------------------------------------|
| date     | date         | YYYY-MM-DD       | Fecha de la transacci√≥n o registro          |
| partner  | string       | Texto plano      | Contraparte asociada (cliente/proveedor)    |
| amount   | float        | EUR              | Importe monetario expresado en euros        |

---

## Mapeos Origen ‚Üí Can√≥nico

Ejemplos de correspondencia entre campos de distintos CSV y el esquema can√≥nico.

| Origen (columna) | Dataset de ejemplo    | Can√≥nico (`date`) | Can√≥nico (`partner`) | Can√≥nico (`amount`) |
|------------------|-----------------------|-------------------|-----------------------|----------------------|
| `fecha`          | ventas_2023.csv       | ‚úÖ                | ‚Äî                     | ‚Äî                    |
| `customer_name`  | sales_q1.csv          | ‚Äî                 | ‚úÖ                    | ‚Äî                    |
| `importe_total`  | facturas.csv          | ‚Äî                 | ‚Äî                     | ‚úÖ                   |
| `transaction_dt` | bank_ops.csv          | ‚úÖ                | ‚Äî                     | ‚Äî                    |
| `cliente`        | pedidos.csv           | ‚Äî                 | ‚úÖ                    | ‚Äî                    |
| `valor`          | pagos.csv             | ‚Äî                 | ‚Äî                     | ‚úÖ                   |

> üìå **Nota**: los mapeos deben documentarse y actualizarse a medida que se incorporen nuevas fuentes.
# üõ°Ô∏è Gobernanza de Datos

Este documento define las pol√≠ticas de gobernanza aplicadas en el laboratorio.

---

## Origen y Linaje
- Todos los archivos fuente (CSVs) se almacenan en **`/data/raw`**.  
- Cada dataset pasa por fases: **raw ‚Üí bronze ‚Üí silver ‚Üí (gold opcional)**.  
- Se documenta el linaje de cada campo en el diccionario de datos.  
- La app Streamlit debe permitir rastrear un KPI hasta sus datos de origen.

---

## Validaciones M√≠nimas
- Tipos de datos correctos (`date`, `string`, `float`).  
- Fechas en formato **ISO 8601** (`YYYY-MM-DD`).  
- Campos `amount` no nulos y con valores num√©ricos v√°lidos.  
- Eliminaci√≥n de duplicados exactos.  
- Reglas espec√≠ficas seg√∫n dataset documentadas en `docs/diccionario.md`.

---

## Pol√≠tica de M√≠nimos Privilegios
- Los datasets en **raw** solo son accesibles por el rol **Data Engineer**.  
- Las capas **bronze** y **silver** son accesibles para **Data Analyst**.  
- La capa **gold** (KPIs) es accesible a **Business Users**.  
- Cada usuario/rol tiene permisos √∫nicamente sobre las carpetas y operaciones necesarias.  

---

## Trazabilidad
- Cada dataset transformado debe incluir un **registro de origen** (archivo fuente, fecha de carga).  
- Se generan **logs de validaci√≥n y transformaci√≥n** para auditar el proceso.  
- Los KPIs en la app Streamlit deben indicar la √∫ltima fecha de actualizaci√≥n.

---

## Roles
| Rol            | Responsabilidades                                                       |
|----------------|-------------------------------------------------------------------------|
| Data Engineer  | Ingesta, validaci√≥n, normalizaci√≥n, mantenimiento de pipelines.         |
| Data Analyst   | Exploraci√≥n de datos en bronze/silver, creaci√≥n de consultas y m√©tricas.|
| Business User  | Consumo de KPIs y visualizaciones desde la app.                         |
| Data Steward   | Garantizar calidad de datos, actualizaci√≥n del diccionario y gobernanza.|


# ‚úÖ Checklist de validaci√≥n del laboratorio

- [ ] **URL de Streamlit** funcional y accesible p√∫blicamente.
- [ ] **bronze.csv** generado y subido a `/data/bronze/`.
- [ ] **silver.csv** generado y subido a `/data/silver/`.
- [ ] **README.md** incluye decisiones justificadas basadas en las **5V de Big Data** (Volumen, Velocidad, Variedad, Veracidad, Valor).
- [ ] Capturas de pantalla del despliegue y ejecuci√≥n agregadas en `docs/`.
- [ ] **Diccionario de datos** (`docs/diccionario.md`) completo y actualizado con mapeos origen ‚Üí can√≥nico.
- [ ] **Gobernanza de datos** (`docs/gobernanza.md`) redactada con linaje, validaciones m√≠nimas, m√≠nimos privilegios, trazabilidad y roles.

# üìä R√∫brica de Evaluaci√≥n (10 puntos)

| Criterio                     | Puntos | Descripci√≥n                                                                 |
|------------------------------|--------|-----------------------------------------------------------------------------|
| **Dise√±o y justificaci√≥n**   | 3      | Claridad en arquitectura, modelo de datos y decisiones (incluyendo 5V).     |
| **Calidad de datos**         | 3      | Grado de limpieza, normalizaci√≥n y validaciones correctas en bronze/silver. |
| **Trazabilidad y DW**        | 2      | Evidencia de linaje, separaci√≥n bronze/silver y conexi√≥n KPI ‚Üî fuentes.     |
| **Documentaci√≥n**            | 2      | README completo, diccionario y gobernanza claros, capturas en `docs/`.      |
| **Total**                    | 10     |                                                                             |

## üìù Prompts de reflexi√≥n

Responde brevemente a cada punto (3‚Äì5 l√≠neas por √≠tem):

1. **V dominante hoy y V dominante si 2√ó tr√°fico**  
   _Respuesta: ‚Ä¶_

2. **Trade-off elegido (ej.: m√°s compresi√≥n vs CPU)**  
   - ¬øCu√°l fue la decisi√≥n?  
   - ¬øPor qu√© la elegiste?  
   - ¬øC√≥mo la medir√°s (m√©trica, experimento)?  
   _Respuesta: ‚Ä¶_

3. **Por qu√© ‚Äúinmutable + linaje‚Äù mejora veracidad y qu√© coste a√±ade**  
   _Respuesta: ‚Ä¶_

4. **KPI principal y SLA del dashboard**  
   - ¬øQu√© KPI es el m√°s relevante?  
   - ¬øQu√© decisi√≥n de negocio habilita?  
   - ¬øPor qu√© definiste ese SLA/latencia?  
   _Respuesta: ‚Ä¶_

5. **Riesgo principal del dise√±o y mitigaci√≥n t√©cnica concreta**  
   _Respuesta: ‚Ä¶_
## üöÄ Pega y corre

Sigue estos pasos m√≠nimos en orden para completar y entregar el laboratorio:

1. **Crear repo con estructura**  
   - Tiempo: ~15 min  
   - Acci√≥n: en GitHub, crea `bigdata-storage-lab-<apellido>` con las carpetas/archivos de la estructura base (`src/`, `docs/`, `tests/`, `data/`).  
   - Check: estructura visible en la ra√≠z, `.gitkeep` en carpetas vac√≠as.

2. **Pegar archivos base**  
   - Tiempo: ~30 min  
   - Acci√≥n: copia el contenido de `requirements.txt`, `streamlit_app.py`, `src/*.py`, `docs/*.md`, `tests/checklist.md`.  
   - Check: no hay errores de sintaxis al abrir cada archivo; dependencias correctas en `requirements.txt`.

3. **Subir CSV de prueba**  
   - Tiempo: ~15 min  
   - Acci√≥n: carga `ventas_mes.csv`, `sales_may.csv`, `partners_jun.csv` en la app.  
   - Check: se genera **bronze** unificado y **silver** si las validaciones pasan.

4. **Desplegar en Streamlit Community Cloud**  
   - Tiempo: ~20 min  
   - Acci√≥n: conecta el repo, selecciona `streamlit_app.py` como main file, despliega.  
   - Check: URL p√∫blica funciona, se pueden subir CSV y descargar bronze/silver.

5. **Completar README con reflexiones**  
   - Tiempo: ~20 min  
   - Acci√≥n: responde a los **Prompts de reflexi√≥n** (5 preguntas), a√±ade decisiones justificadas (5V) y capturas en `docs/`.  
   - Check: README tiene secciones completas y autoexplicativas.

6. **Entregar URLs**  
   - Tiempo: ~5 min  
   - Acci√≥n: comparte:  
     - URL del repo GitHub (p√∫blico)  
     - URL de la app en Streamlit  
   - Check: ambos enlaces funcionan y permiten reproducir el trabajo.

---

### ‚úÖ Antes de entregar, comprueba:
- [ ] **URL de Streamlit** accesible y funcional.  
- [ ] **bronze.csv** y **silver.csv** descargables y con esquema correcto (`date, partner, amount`).  
- [ ] **README.md** incluye decisiones (5V), reflexiones respondidas y capturas.  
- [ ] **docs/** contiene `diccionario.md`, `gobernanza.md`, capturas y tablas de estrategia.  
- [ ] **tests/checklist.md** marcado seg√∫n cumplimiento.  
